<<<<<<< HEAD
{% extends 'base.html' %}
{% block content %}
<div class="event-detail-container">
    <h2>{{ event.title }}</h2>
    
    <div style="text-align: center; margin-bottom: 20px;">
        <span class="event-type-badge">{{ event.event_type }}</span>
    </div>
    <div class="event-info-grid">
        
        <div class="event-info-card">
            <div class="event-info-label">
                Descrição
            </div>
            <div class="event-info-value">
                {{ event.description}}
            </div>
        </div>
    
    
    {% if event.creator %}
    <div class="event-creator-info">
        <span>👤</span>
        <span><strong>Organizador:</strong> {{ event.creator.username }}</span>
    </div>
    {% endif %}
    
    <hr> <div class="event-info-grid">
        
        <div class="event-info-card">
            <div class="event-info-label">
                📅 Início
            </div>
            <div class="event-info-value">
                {{ event.initial_date|date:"d/m/Y" }} às {{ event.event_start|date:"H:i" }}
            </div>
        </div>
        
        <div class="event-info-card">
            <div class="event-info-label">
                📅 Término
            </div>
            <div class="event-info-value">
                {{ event.final_date|date:"d/m/Y" }} às {{ event.event_end|date:"H:i" }}
            </div>
        </div>
        
        <div class="event-info-card">
            <div class="event-info-label">
                🕐 Duração Total
            </div>
            <div class="event-info-value">
                {{ event.calculated_duration_hours }} horas
            </div>
        </div>
        
        <div class="event-info-card highlight">
            <div class="event-info-label">
                📍 Local
            </div>
            <div class="event-info-value">
                {{ event.location }}
            </div>
        </div>
        
    </div>
    
    <div class="event-capacity {% if event.is_full %}full{% endif %}">
        <span>👥 Participantes:</span>
        <span>{{ event.participants.count }} / {{ event.max_capacity }}</span>
    </div>
    
    <hr>
    
    <form method="post" action="{% url 'toggle_registration' pk=event.pk %}" class="registration-form">
        {% csrf_token %}
        
        {% if user.is_authenticated %}
            {% if user in event.participants.all %}
                <button type="submit" class="btn-unsubscribe">❌ Cancelar Inscrição</button>
            
            {% elif event.is_full %}
                <button type="button" class="btn-full" disabled>🚫 EVENTO LOTADO</button>
            
            {% else %}
                <button type="submit" class="btn-subscribe">✅ Inscrever-se Agora</button>
            {% endif %}
            
        {% else %}
            <div class="login-message">
                🔒 Faça <a href="{% url 'login' %}">login</a> para se inscrever neste evento.
            </div>
        {% endif %}
        
    </form>
    
    <a href="{% url 'event_list' %}" class="back-link">← Voltar à Lista</a>
</div>
=======
{% extends 'base.html' %}
{% block content %}
<div class="event-detail-container">
    <h2>{{ event.title }}</h2>
    
    <p class="event-description">{{ event.description }}</p>
    
    <div class="event-capacity {% if event.is_full %}full{% endif %}">
        <span>👥 Participantes:</span>
        <span>{{ event.current_participants_count }} / {{ event.max_capacity }}</span>
    </div>

    <p class="event-date">📅 Data de Início: {{ event.initial_date|date:"d/m/Y" }}</p>
   
    <hr>
   
    <form method="post" action="{% url 'toggle_registration' pk=event.pk %}" class="registration-form">
        {% csrf_token %}
       
        {% if user.is_authenticated %}
            {% if user in event.participants.all %}
                <button type="submit" class="btn-unsubscribe">❌ Cancelar Inscrição</button>
           
            {% elif event.is_full %}
                <button type="button" class="btn-full" disabled>🚫 EVENTO LOTADO</button>
           
            {% else %}
                <button type="submit" class="btn-subscribe">✅ Inscrever-se Agora</button>
            {% endif %}
           
        {% else %}
            <div class="login-message">
                🔒 Faça <a href="{% url 'login' %}">login</a> para se inscrever neste evento.
            </div>
        {% endif %}
       
    </form>
   
    <a href="{% url 'event_list' %}" class="back-link">← Voltar à Lista</a>
</div>
>>>>>>> 5a96fedf93e6b0de9087d57868d0edb4fd6311c1
{% endblock %}