{% extends 'base.html' %}
{% block title %}Meus Certificados{% endblock %}
{% block content %}
    <div class="certificates-container">
        <h1>ğŸ“ Meus Certificados</h1>
        <p class="certificates-intro">
            Lista de eventos que vocÃª participou e pode emitir seu certificado de conclusÃ£o.
        </p>
       
        <div class="certificates-list">
            {% if events_with_certificates %}
                {% for event in events_with_certificates %}
                    <div class="certificate-card {% if event.certificate_issued %}issued{% endif %}">
                        <div class="certificate-info">
                            <h5>
                                {{ event.title }}
                                {% if event.certificate_issued %}
                                    <span class="certificate-badge">âœ“ Emitido</span>
                                {% endif %}
                            </h5>
                            <div class="certificate-meta">
                                <span>ğŸ“… {{ event.initial_date|date:"d/m/Y" }}</span>
                                {% if event.event_duration %}
                                    <span>â±ï¸ {{ event.event_duration|time:"H" }}h{{ event.event_duration|time:"i" }}min</span>
                                {% endif %}
                                <span>ğŸ“ {{ event.location|default:"Local nÃ£o informado" }}</span>
                            </div>
                        </div>
                       
                        <div class="certificate-actions">
                            {% if event.certificate_issued %}
                                <a href="{% url 'issue_certificate' event.id %}" class="btn-certificate btn-download">
                                    ğŸ“¥ Visualizar/Baixar
                                </a>
                            {% else %}
                                <a href="{% url 'issue_certificate' event.id %}" class="btn-certificate btn-issue">
                                    ğŸ“œ Emitir Certificado
                                </a>
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="no-certificates-alert" role="alert">
                    <h3>ğŸ“š Nenhum certificado disponÃ­vel ainda</h3>
                    <p>VocÃª ainda nÃ£o participou de eventos com direito a certificado.</p>
                    <a href="{% url 'event_list' %}" class="btn-explore">
                        ğŸ” Explorar Eventos
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}